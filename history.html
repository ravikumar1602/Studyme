<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <title>History Videos - StudyZone</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/subjectpage.css">
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/videojs-youtube/3.0.1/Youtube.min.css" rel="stylesheet" />
</head>
<body>
    <!-- Header will be loaded here -->
    <header id="header"></header>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>History Video Lectures</h1>
            <p>Learn from expert history teachers and explore historical events in detail</p>
        </div>
    </div>

    <div class="container">
        <div class="page-layout">
            <!-- Teacher Panel -->
            <aside class="teacher-panel">
                <h2>Our History Teachers</h2>
                <ul class="teacher-list" id="teacherList">
                    <li class="teacher-item active" data-teacher="khan">
                        <div class="teacher-avatar">KS</div>
                        <div class="teacher-info">
                            <h3>Khan Sir</h3>
                            <p>Ancient History Expert</p>
                        </div>
                    </li>
                    <li class="teacher-item" data-teacher="sarah">
                        <div class="teacher-avatar">SJ</div>
                        <div class="teacher-info">
                            <h3>Sarah Johnson</h3>
                            <p>World Wars Specialist</p>
                        </div>
                    </li>
                    <li class="teacher-item" data-teacher="michael">
                        <div class="teacher-avatar">MB</div>
                        <div class="teacher-info">
                            <h3>Michael Brown</h3>
                            <p>Modern History Professor</p>
                        </div>
                    </li>
                    <li class="teacher-item" data-teacher="priya">
                        <div class="teacher-avatar">PP</div>
                        <div class="teacher-info">
                            <h3>Priya Patel</h3>
                            <p>Cultural History Expert</p>
                        </div>
                    </li>
                </ul>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Video Player -->
                <div class="video-container">
                    <video id="history-video" class="video-js vjs-default-skin vjs-big-play-centered" controls preload="auto" data-setup='{"techOrder": ["youtube"], "sources": [{"type": "video/youtube", "src": ""}]}'>
                        <p class="vjs-no-js">
                            To view this video please enable JavaScript, and consider upgrading to a
                            web browser that
                            <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
                        </p>
                    </video>
                </div>

                <!-- Video Info -->
                <div class="video-info">
                    <h2 id="videoTitle">Select a video to start watching</h2>
                    <div class="video-meta">
                        <span id="videoDuration">-</span>
                        <span>•</span>
                        <span id="videoViews">- views</span>
                        <span>•</span>
                        <span id="videoDate">-</span>
                    </div>
                    <p class="video-description" id="videoDescription">
                        Choose a teacher from the left panel to browse their collection of history lectures.
                    </p>
                </div>
                
                <!-- Video List -->
                <div class="video-grid" id="videoList">
                    <!-- Videos will be loaded here -->
                </div>
            </main>
            
            <!-- Playlist Panel -->
            <aside class="playlist-panel">
                <div class="playlist-header">Playlist</div>
                <ul class="playlist" id="playlist">
                    <!-- Playlist items will be loaded here by JavaScript -->
                </ul>
            </aside>
        </div>
    </div>

    <!-- Footer will be loaded here -->
    <footer id="footer"></footer>

    <!-- Load YouTube IFrame API -->
    <script>
        // Load the YouTube IFrame API asynchronously
        var tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>

    <!-- Video.js -->
    <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-youtube/3.0.1/Youtube.min.js"></script>

    <!-- Load configuration first -->
    <script src="js/video-config.js"></script>

    <!-- Load main application script -->
    <script>
        // Initialize video player when YouTube API is ready
        function onYouTubeIframeAPIReady() {
            console.log('YouTube API is ready');
        }

        // Initialize the application when the page is loaded
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM fully loaded');
            // Initialize the video player
            if (typeof initPlayer === 'function') {
                initPlayer();
            }

            // Set up teacher handlers
            if (typeof setupTeacherHandlers === 'function') {
                setupTeacherHandlers();
            }

            // Initialize teachers data
            if (typeof initTeachersData === 'function') {
                initTeachersData();
            }
        });
    </script>

    <!-- Load subject page scripts -->
    <script src="js/subjectpage.js"></script>
</body>
</html>